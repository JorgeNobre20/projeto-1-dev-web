<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
   
    <link 
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" 
      rel="stylesheet" 
      integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" 
      crossorigin="anonymous"
    />

    <title>Admin-Loja</title>
    <style>
      .image{
        height: 200px;
        width: auto;
      }

      .image img{
        height: 100%;
        width: 100%;
        Border-radius: 10px;
      }
    </style>
</head>
<body>
  <%- include("../partials/header-admin"); %>

  <div class="container px-4 py-5" id="custom-cards">
    <div class="d-flex justify-content-between">
        <h2 class="pb-2 border-bottom">Lista de Carros</h2>
        <a type="button" href="/admin/loja/add-veiculo" class="btn btn-primary mt-2 mb-2">Adicionar Carro</a>
    </div>

    <% if(veiculos.length <= 0){ %>
      <div class="alert alert-secondary mt-4 text-center" role="alert">
        Não há carros cadastrados
      </div>
    <% } %>

    <div class="row row-cols-1 row-cols-lg-3 align-items-stretch g-4 py-5">
      <% veiculos.forEach(veiculo =>{ %>
        <div class="col">
          <div class="card card-cover h-150 overflow-hidden text-bg-dark rounded-4 shadow-lg">
            <div class="d-flex flex-column h-50 p-5 pb-3 text-white text-shadow-1 text-center infos">
              <div class="image">
                <img src="<%= veiculo.foto %>" alt="Foto do carro">
              </div>
              <h3 class="display-6 lh-1 fw-bold mt-3"><%= veiculo.nome %></h3>
              <h3 class="mb-2"><%= veiculo.marca%>, <%= veiculo.cor%>,<%= veiculo.valor%></h3>
              <h4 class="mb-2">Valor Diária: <%= veiculo.diaria %></h4>
              <h6 class="mb-2">Status: <%= veiculo.status == 1 ? "Disponivel" : "Indisponivel" %></h6>  
              <h6 class="mb-2"><%= veiculo.status == 0 ? `Disponivel em : ${veiculo.AluguelDataFim} ` : "Disponivel em : HOJE" %></h6>
            </div>

            <% if(veiculo.status === 1){ %>
              <div class="text-center mb-3">
                <a href="/admin/editVeiculo?id=<%= veiculo.id %> " class="edit btn btn-primary">Editar</a>
                <a href="/admin/deletarVeiculo?excluir=<%= veiculo.id %>"class="delete btn btn-danger" id="<%= veiculo._id %> ">Remover</a>
              </div>
            <% } %>
          </div>
        </div>
      <%}) %>
    </div>
  </div>

  <footer class="text-center">Projeto 1 de Web - Desenvolvido por <a href="">Jorge Nobre</a>, <a href="">Livian Torres</a>, <a href="">Samuel Lopes</a>, <a href="https://github.com/victor-joness">Victor Mesquita</a></footer>

  
  <script 
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" 
    crossorigin="anonymous"
  ></script>
</body>
</html>